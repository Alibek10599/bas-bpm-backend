# Документация Tasks Service API

## Доступ к Swagger UI

Swagger UI доступен по адресу: `http://localhost:3005/docs`

## Основные операции

### 1. Управление задачами

#### Создание задачи
- Endpoint: `POST /tasks`
- Создает новую задачу
- Требует JWT токен и тело запроса с деталями задачи

#### Получение списка задач
- Endpoint: `GET /tasks`
- Возвращает список задач с возможностью фильтрации
- Поддерживает пагинацию и сортировку

#### Получение задачи по ID
- Endpoint: `GET /tasks/{id}`
- Возвращает детальную информацию о задаче

### 2. Управление делегированием

#### Делегирование задачи
- Endpoint: `POST /tasks/{id}/delegate`
- Делегирует задачу другому пользователю
- Требует указания пользователя-получателя

#### История делегирования
- Endpoint: `GET /tasks/{id}/delegations`
- Показывает историю делегирования задачи

### 3. Управление версиями задач

#### Создание новой версии
- Endpoint: `POST /tasks/{id}/versions`
- Создает новую версию задачи
- Сохраняет историю изменений

#### Получение версий
- Endpoint: `GET /tasks/{id}/versions`
- Возвращает список всех версий задачи

## Примеры использования

1. **Создание задачи**:
   ```json
   {
     "title": "Новая задача",
     "description": "Описание задачи",
     "deadline": "2025-12-31T23:59:59Z",
     "priority": "HIGH"
   }
   ```

2. **Делегирование**:
   ```json
   {
     "userId": "user-uuid",
     "comment": "Прошу обработать этот запрос"
   }
   ```

## Фильтрация и поиск

При получении списка задач доступны следующие параметры:
- `status`: Статус задачи (OPEN, IN_PROGRESS, COMPLETED, и т.д.)
- `assignee`: ID назначенного пользователя
- `priority`: Приоритет (LOW, MEDIUM, HIGH)
- `page`: Номер страницы (начиная с 0)
- `size`: Количество элементов на странице

## Коды ответов

- 201: Задача успешно создана
- 200: Запрос выполнен успешно
- 404: Задача не найдена
- 403: Нет прав на выполнение операции
- 400: Ошибка валидации данных

## Модели данных

### TaskDto
```typescript
{
  id: string;          // ID задачи
  title: string;       // Название
  description: string; // Описание
  status: string;      // Статус
  priority: string;    // Приоритет
  assignee: string;    // ID назначенного пользователя
  deadline: Date;      // Срок выполнения
  createdAt: Date;     // Дата создания
  updatedAt: Date;     // Дата обновления
}
```

## Особенности работы с API

1. **Пагинация**:
   - По умолчанию возвращается первая страница с 10 элементами
   - Максимальное количество элементов на странице: 100

2. **Права доступа**:
   - Создавать задачи могут все авторизованные пользователи
   - Делегировать можно только назначенные вам задачи
   - Изменять статус могут только назначенный исполнитель и создатель

3. **Версионирование**:
   - Каждое изменение задачи создает новую версию
   - Версии нумеруются последовательно
   - История изменений сохраняется